(function(){var b,c,d;d=function(){function a(){this.delete_post()}a.prototype.delete_post=function(){return $(document).on("click","a.delete_post",function(){$.ajax({type:"delete",url:$(this).attr("href"),dataType:"json",cache:!1,beforeSend:function(){return core.loading_on()},error:function(){core.loading_off();return core.error_message()},success:function(a){core.loading_off();return a.success?core.ajax({href:location.href},!1):$.av.pop({title:"Error",message:"You could not delete this post.",
template:"error"})}});return!1})};return a}();b=function(){function a(){this.send_msg();this.chat_board_readonly()}a.prototype.send_msg=function(){return $(document).on("submit","form#form_chat_input",function(){var a;a=window.sessionStorage.chat_token;$.ajax({type:"post",url:$(this).attr("action"),dataType:"json",cache:!1,data:{token:a,msg:$("#chat_msg").val(),name:$("#chat_name").val()},success:function(a){if(a.success)return $("#chat_msg").val("")}});return!1})};a.prototype.chat_board_readonly=
function(){return $(document).on("keypress","#chat_board",function(){return!1})};return a}();c=function(){return function(){new d;new b}}();$(function(){core.setup();new c;return core.after_page_loaded()})}).call(this);
